# Межгалактическая аналитика

## Инструкции по запуску

1. **Установите зависимости:**

    ```bash
    npm install
    ```

2. **Запустите проект в режиме разработки:**

    ```bash
    npm run dev
    ```

    Проект будет доступен по адресу [http://localhost:5173](http://localhost:5173) (порт может отличаться, смотрите вывод в консоли).

3. **Сборка проекта:**

    ```bash
    npm run build
    ```

4. **Просмотр production-сборки:**

    ```bash
    npm run preview
    ```

5. **Линтинг и форматирование:**

    ```bash
    npm run lint
    npm run format
    ```

> ⚠️ Для корректной работы необходим запущенный backend на `http://localhost:3000` (эндпоинты `/aggregate` и `/report`).

---

## Описание архитектуры

Проект реализован на **React** и менеджера состояния **Zustand**. Сборка и запуск осуществляются через **Vite**.

### Технологический стек

- **Язык**: JavaScript
- **Стили**: CSS Modules
- **State-менеджер**: Zustand
- **Роутинг**: react-router-dom (v6)
- **API**: Fetch
- **Модальные окна**: React Portals
- **Хранение истории**: LocalStorage
- **Линтинг**: ESLint + Prettier

### Основные страницы:

- **Аналитика (`/`)** — загрузка CSV-файла, отправка на backend, отображение аналитики и хайлайтов по данным.
- **Генератор (`/generator`)** — генерация отчёта (CSV) по заданным параметрам.
- **История (`/history`)** — просмотр истории обработанных файлов, возможность повторного просмотра результатов и удаления записей.


### Состояние приложения:

- **Zustand** используется для хранения состояния загрузки, генерации отчёта и истории.
- **История** хранится в `localStorage` через сервис `storage`.

### Взаимодействие с backend:

- **/aggregate** — POST-запрос с CSV-файлом, возвращает поток аналитических данных.
- **/report** — GET-запрос с параметрами, возвращает CSV-отчёт.

### Структура проекта:

- `src/components/` — переиспользуемые UI-компоненты
- `src/pages/` — страницы приложения
- `src/api/` — взаимодействие с backend и localStorage
- `src/utils/` — утилиты для преобразования данных и утилита для скачивания файла
